
<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Weigamer • Consolas retro y actuales</title>
  <link rel="stylesheet" href="assets/css/style.css"/>
</head>

<body>
  <div class="container">
    <h1>Productos</h1>
    <p class="subtitle">Lista completa de consolas en venta.</p>
    <div class="grid products" id="products"></div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', ()=>{
      const wrap = document.getElementById('products');
      const products = getProducts();
      wrap.innerHTML = products.map(p=>`
        <article class="card product">
          <img src="${p.img}" alt="${p.name}"/>
          <h3>${p.name}</h3>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <span class="badge">${p.category}</span>
            <b>${p.price.toFixed(2)} USD</b>
          </div>
          <div class="actions">
            <button class="btn" data-add="${p.id}">Añadir</button>
            <a class="btn secondary" href="product.html?id=${encodeURIComponent(p.id)}">Ver</a>
          </div>
        </article>
      `).join('');
      wrap.addEventListener('click', (e)=>{
        const btn = e.target.closest('[data-add]');
        if(btn) addToCart(btn.getAttribute('data-add'), 1);
      });
    });
  </script>
    <script defer src="assets/js/app.js"></script>
  <script defer src="assets/js/validation.js"></script>
</body>
</html>
